<ion-header>
  <ion-toolbar>
    <ion-button shape="round" (click)="this.exit()" color="success">
      <ion-icon name="arrow-undo-outline"></ion-icon>
    </ion-button>
  </ion-toolbar>
  <ion-toolbar>
    <ion-searchbar #input showCancelButton="focus" debounce="500" (ionChange)="searchRecords($event)"></ion-searchbar>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-refresher slot="fixed" (ionRefresh)="this.loadAll($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>
  <ion-list>
    <ion-item *ngFor="let item of records">
      <ion-item>
        <ion-card style="border: 1px solid #40444b;">
          <ion-card-header>
            <ion-card-subtitle *ngIf="this.format(item.localDateTime)">{{this.date.toLocaleDateString()}} {{this.date.toLocaleTimeString()}}</ion-card-subtitle>
            <ion-card-title style="text-align: center;">{{item.idTrai.title}}</ion-card-title>
          </ion-card-header>

          <ion-card-content>
            <ion-slides>
              <ion-slide style="height: auto; width: 100%;" *ngFor="let i of item.idTrai.exercises">
                <div>
                  <img class="exePhoto" [src]="i.photo" />
                  <h2>{{i.nameExercise}}</h2>
                  <p>{{i.description}}</p>
                </div>
              </ion-slide>
            </ion-slides>
          </ion-card-content>
        </ion-card>

      </ion-item>
    </ion-item>
  </ion-list>

  <ion-infinite-scroll threshold="100px" (ionInfinite)="loadMore($event)">
    <ion-infinite-scroll-content loadingSpinner="bubbles">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>